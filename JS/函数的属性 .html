<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>大名鼎鼎的this</title>
	<style type="text/css">
		*::selection{color:#f40;}
		body{line-height:1.5em;}
		.ml30{margin:0 0 0 30px;}
		.ml60{margin:0 0 0 60px;}
	</style>
</head>
<body>
	<h2><a href="http://www.ruanyifeng.com/blog/2018/06/javascript-this.html">this理解: http://www.ruanyifeng.com/blog/2018/06/javascript-this.html</a></h2>

	<h3>this：所有引用类型都具有的属性，不仅仅为函数所有。但是因为Javascipt没有块级作用域，所以，除函数之外的其他引用类型的this都指向全局对象</h3>

	<h3>涉及知识点： 函数内部特殊属性对象： arguments，函数属性对象prototype, __proto__</h3>


	<p>函数属性和方法：</p>			
	<p class="ml30">1、length属性：表示希望接收的参数个数（形参个数）</p>
	<p class="ml30">2、prototype属性：原型对象</p>
	<p class="ml30">2、__proto__属性：实例属性</p>


	<p>函数内部属性： arguments、this</p>
	<p class="ml30">1、this: 指向函数当前执行 的 环境对象</p>
	<p class="ml30">2、arguments: 类数组对象，实际接收到的参数（实参个数） 按照传递顺序 添加到其内，该对象有以下两个属性</p>

	<p class="ml60">1、length: 实际接收到的参数的个数（实参个数）</p>
	<p class="ml60">2、callee：该属性是一个指针，指向拥有arguments对象的函数</p>


	<script>

		var v = 0;

		var obj = {

			v : 1,

			f : { f1 : this.v }
		};

		alert(obj.f.f1);	//output: 0

		/***
			函数属性和方法：
				
				1、length属性：表示希望接收的参数个数（形参个数）
				2、prototype属性：原型对象



			函数内部属性： arguments、this

				this: 指向函数据以执行 的 环境对象

				arguments: 类数组对象，实际接收到的参数 按照传递顺序 添加到其内，该对象有以下两个属性

					1、length: 实际接收到的参数的个数（实参个数）
					2、callee：该属性是一个指针，指向拥有arguments对象的函数
		***/

		/***
			var obj = {
					'name' : 'kueen',
					'len' : this.length		
			};
			console.log('obj.len = '+obj.len);		//output: undefined


			function K(x,y){
				this.name = x,
				this.age = y,
				this.len = arguments.length,		
				K.prototype.name = 'proname',		
				K.prototype.age = 'proage'
			}

			var k1 = new K("k1","1",'3');
			var k2 = new K("k2","2");


			//output: 构造函数K
			//alert(k1.__proto__.constructor);


			// k1 : name_k1    age_3         
			console.log("k1 : name = "+k1.name+" age = "+k1.len);	

		***/


		/*	var name = 'global';				*/	/*		var name = 'global';					*/
		/*	var obj = {'name':'objname'};		*/	/*		var obj = {'name':'objname'};			*/
		/*										*/	/*												*/
		/*	function sayName(){					*/	/*		function sayName(){						*/
		/*		var name = 'k';					*/	/*			var name = 'k';						*/
		/*										*/	/*												*/
		/*		function j(){					*/	/*			return function (){					*/
		/*			var name = 'j';				*/	/*				var name = 'j';					*/
		/*			console.log(this.name);		*/	/*				console.log(this.name);			*/
		/*		}								*/	/*			};									*/
		/*										*/	/*												*/	
		/*		j();							*/	/*												*/
		/*	}									*/	/*		}										*/
		/*										*/	/*												*/
		/*										*/	/*												*/
		/*	//global							*/	/*		/*	//global							*/
		/*	sayName();							*/	/*		sayName()();							*/

		/***
			//global							
			obj.sayName =sayName;
			obj.sayName();

		***/


	</script>
</body>
</html>